package com.example.NetPolix.Controladores;

import com.example.NetPolix.Modelo.Contenido;
import com.example.NetPolix.Servicio.ContenidoServicio;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import org.springframework.http.HttpStatus;

import java.time.LocalDate;
import java.util.List;
@CrossOrigin(origins = "*")
@RestController
@RequestMapping("/api/contenido")
public class ContenidoControlador {

    @Autowired
    private ContenidoServicio contenidoServicio;

    // Método para agregar contenido
    @PostMapping("/agregar")
    public ResponseEntity<String> agregarContenido(@RequestBody Contenido contenido) {
        contenidoServicio.agregarContenido(contenido);
        return ResponseEntity.status(HttpStatus.CREATED).body("Contenido agregado exitosamente");
    }

    // Método para buscar contenido por título o género
    @GetMapping("/buscar")
    public List<Contenido> buscarContenido(@RequestParam(required = false) String titulo,
                                           @RequestParam(required = false) String genero) {
        return contenidoServicio.buscarContenido(titulo, genero);
    }
    @GetMapping("/generos")
    public List<String> obtenerGeneros() {
        return contenidoServicio.obtenerGeneros();
    }
    @GetMapping("/calificacion")
    public List<Double> obtenerCalificacion() {
        return contenidoServicio.obtenerCalificacion();
    }
    @GetMapping("/estrenos")
    public List<LocalDate> obtenerEstreno() {
        return contenidoServicio.obtenerEstreno();
    }
    @GetMapping("/clasificacion-edad")
    public List<String> obtenerClasificacionEdad() {
        return contenidoServicio.obtenerClasificacionEdad();
    }

}
